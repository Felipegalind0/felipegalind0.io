---
import Layout from "../layouts/Layout.astro";
import StatusCard from "../components/StatusCard.astro";
import GithubStats from "../components/GithubStats.astro";
import PolycamGallery from "../components/PolycamGallery.astro";
---

<Layout>
  <main class="grid-hud">
    <section class="cell cell-a"><StatusCard /></section>
    <section class="cell cell-c"><GithubStats /></section>
    <section class="cell cell-b"><PolycamGallery /></section>
    <section class="cell cell-d"><h2>CORRUPT_DATA</h2></section>
    <section class="cell cell-e"><h2>RECENT_COMMITS</h2></section>
  </main>
</Layout>

<style>
  .grid-hud {
    display: grid;
    grid-template-columns: 1fr;
    grid-auto-rows: auto;
    gap: var(--gap);
    padding: var(--gap);
  }

  /* 2 columns */
  @media (min-width: 580px) {
    .grid-hud {
      grid-template-columns: repeat(2, 1fr);
    }
    .cell-a { grid-column: 1; grid-row: 1; }
    .cell-c { grid-column: 2; grid-row: 1; }
    .cell-b { grid-column: 1 / 3; grid-row: 2; }
    .cell-d { grid-column: 1; grid-row: 3; }
    .cell-e { grid-column: 2; grid-row: 3; }
  }

  /* 3 columns */
  @media (min-width: 900px) {
    .grid-hud {
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: 1fr auto 1fr;
      height: 100dvh;
    }
    .cell-a { grid-column: 1; grid-row: 1 / 3; }
    .cell-b { grid-column: 2 / 4; grid-row: 1; }
    .cell-c { grid-column: 2 / 4; grid-row: 2; }
    .cell-d { grid-column: 1; grid-row: 3; }
    .cell-e { grid-column: 2 / 4; grid-row: 3; }
  }

  /* 4 columns */
  @media (min-width: 1200px) {
    .grid-hud {
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: 1fr auto 1fr;
    }
    .cell-a { grid-column: 1 / 3; grid-row: 1 / 3; }
    .cell-b { grid-column: 3; grid-row: 1; }
    .cell-c { grid-column: 3 / 5; grid-row: 2; }
    .cell-d { grid-column: 4; grid-row: 1; }
    .cell-e { grid-column: 1 / 5; grid-row: 3; }
  }

  .cell {
    border: 1px solid var(--fg-dim);
    padding: 1rem;
    border-radius: var(--radius);
    background: rgba(128, 128, 128, 0.04);
    overflow: hidden;
  }

  .cell-b {
    padding: 0;
  }

  .cell-c {
    padding: 0;
  }
</style>
